//****************************************************************************//
//*                                                                     ******//
//*                             MODULI & FORMS
//*              descrizione - descrizione - descrizione
//*                                                                     ******//
//****************************************************************************//



//****************************************************************************//
//                            FORM GENERICI
//****************************************************************************//

#top {

  form {
    margin-bottom: $line-height; //TODO
  }


  ///
  // Dimensioni dei Campi generici - anche gravity
  ///
  .input-text,
  input[type='text'],
  input[type='input'],
  input[type='password'],
  input[type='email'],
  input[type='number'],
  input[type='url'],
  input[type='tel'],
  input[type='search'],
  select,
  .select2-container .select2-choice {
    @include form-field(small);
  }


  ///
  // Dimensioni text area generica - anche gravity
  ///
  textarea {
    @include form-field(small);
    line-height: $line-height;
    min-height: $line-height * 6;
    padding: bpad(1);
    margin-bottom: 0;
  }


///
// Etichette dei Moduli
///
  label,
  #commentform .comment-form-rating label,
  .logged-in div #commentform .comment-form-comment label {
    @include form-label;
  }


///
// Non so a cosa servono... //TOCR - a cosa servono? si possono eliminare?
///
  label span,
  legend span {
    font-size: 1em;
  }
}


//****************************************************************************//
//                            SPECIFICI PER GRAVITY FORMS
//****************************************************************************//

///
// Padding per il contenitore di Gravity Form e per il footer di Gravity
///
.gform_wrapper {
  padding: $line-height * 2; //TODO
  margin: 0 !important; //TOCR - questo dovrebbe stare in un reset?

  @include  breakpoint-max(lg) {
    padding: $line-height;
  }

  @include  breakpoint-max(sm) {
    padding: $line-height*2;
  }

  @include  breakpoint-max(xs) {
    padding: $line-height;
  }
}

///
// Insieme di Regole da impostare con il #top per soprassedere agli
// stili esistenti di Gravity Forms (formmsmain.css e gravity-mod.css)
///
#top .gform_wrapper {
  max-width: 100%;


  ///
  // Il Padding e i Margini dei campi standard
  ///
  ul li.gfield {
    margin-top: 0;
    margin-bottom: $line-height !important;
    padding:0;

    ///
    // Campo HTML di gravity - check marigni
    ///

    &.gfield_html.gfield_no_follows_desc {
      margin-top: 0;
      margin-bottom: !important;
    }
  }


  ///
  // Altezza della select (che va impostata a parte per motivi sconosciuti)
  // e delle sue opzioni
  ///
  select {
    height: $line-height;

      option {
        font-size: font-size(small, fs); //TODO
        line-height: $line-height;
        padding: ($line-height / 2) .125em;
      }
  }


  ///
  // Padding dei campi complessi (nome)
  ///
  &.gf_browser_chrome ul.gform_fields li.gfield span.name_first {
    padding-top:0;
  }
  &.gf_browser_chrome ul.gform_fields li.gfield span.name_last {
    padding-top:0;
  }
  &.gf_browser_chrome ul.gform_fields li.gfield span.name_middle {
    padding-top:0;
  }


  ///
  // Padding e margini del footer
  ///
  .gform_footer {
      padding: 0;
      margin: 0; //TODO
  }
}


///
// Descrizioni campi Gravity Forms
///
.gform_wrapper .top_label .gfield_description {
  @include form-desc(); //TODO - selezionare la corrispondenza di dimensione
  padding: (size(small, lh) / 2) 0 !important;
}
///
// Sotto-etichette dei campi complessi (p.es nome)
///
#top .ginput_complex label {
  @include form-desc(); //TODO - selezionare la corrispondenza di dimensione
  padding: (size(small, lh) / 2) 0!important;
}


///
// Campi gf_*_half - un po' un merdone per via degli !IMPORTANT //TOCHK
///
.gform_wrapper .top_label li.gfield.gf_left_half,
.gform_wrapper .top_label li.gfield.gf_right_half {
  @include breakpoint-max(md) {
    width: 100% !important;
    margin-right: 0% !important;
  }

  @include breakpoint-max(sm) {
    margin-right: 3.1% !important;
    width: 45.5% !important;

    @at-root .gform_wrapper .top_label li.gfield.gf_right_half {
      margin-right: 0% !important;
      width: 48.4% !important;
    }
  }
}

///
// Bottone Gravity
///

#top .gform_wrapper .gform_footer input.button {
  @extend %button;
  @include button(h3, 4); //TODO

  width: 100%;
  border-right-width: 0;
  border-left-width: 0;
  text-transform: uppercase; //TODO
  font-weight: inherit; //TODO
}


//****************************************************************************//
//                            Colori FORM, LABEL e DESCRIZIONI CAMPI
//****************************************************************************//
////
// BACKGROUND
////
@each $palette, $bg in $colors {
  .#{$palette}_color .gform_wrapper {
    background-color: palette($palette, bg-alt);
  }
}

@each $palette, $bg in $colors {
  #top .#{$palette}_color {

    .input-text,
    input[type='text'],
    input[type='input'],
    input[type='password'],
    input[type='email'],
    input[type='number'],
    input[type='url'],
    input[type='tel'],
    input[type='search'],
    textarea,
    select,
    .select2-container .select2-choice {
      border-color: palette(main, border);
      background: palette(main, bg);
      color: palette(main, body);
    }

    label,
    .gfield_description {
      color: palette($palette, form-dec)
    }
  }
}
